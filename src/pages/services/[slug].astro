---
import { getCollection, render } from 'astro:content';
import SiteLayout from '@/layouts/SiteLayout.astro';

export async function getStaticPaths() {
  const services = await getCollection('services');
  return services.map((service) => ({ params: { slug: service.slug }, props: { service } }));
}

const { service } = Astro.props;
const { Content } = await render(service);
---
<SiteLayout title={`${service.data.title} | [BRAND NAME] Electric`} description={service.data.description}>
  <article class="container-shell py-16">
    <a href="/Website2026/services/" class="text-sm text-[var(--color-electric)]">‚Üê Back to services</a>
    <h1 class="mt-4 text-4xl font-black">{service.data.title}</h1>
    <p class="mt-3 text-white/80">{service.data.description}</p>
    <div class="mt-6 rounded-xl border border-white/15 bg-white/5 p-5">
      <p><strong>Timeline:</strong> {service.data.timeline}</p>
      <p><strong>Investment:</strong> {service.data.startingPrice}</p>
    </div>
    <div class="prose prose-invert mt-8 max-w-none">
      <Content />
    </div>
    <a href="/Website2026/quote/" class="mt-8 inline-flex min-h-12 items-center rounded-md bg-[var(--color-amber)] px-6 font-bold text-black">Request This Service</a>
  </article>
</SiteLayout>
